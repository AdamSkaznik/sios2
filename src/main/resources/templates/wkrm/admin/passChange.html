<!--<!DOCTYPE html>-->
<!--<html xmlns:th="https://www.thymeleaf.org" xmlns:sd="http://www.w3.org/1999/xhtml"-->
<!--      xmlns:sec="http://www.w3.org/1999/xhtml"-->
<!--      th:replace="~{/wkrm/fragments/layout2::layout(~{::.container-fluid})}">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--</head>-->
<!--<body>-->
<!--<div class="container-fluid" >-->
<!--  <div class="card">-->
<!--    <form class="form" style="margin: auto" th:object="${user}" th:action="@{/wkrm/admin/changePassword}" method="post">-->
<!--      <div class="panel panel-default">-->
<!--        <div class="panel-body">-->
<!--          <p> Zmieniasz hasło dla użytkownika :</p><p style="font-weight: bold" th:text="*{name}"></p>-->
<!--          &lt;!&ndash;        <input th:field="*{userName}">&ndash;&gt;-->
<!--          <div hidden>-->
<!--            <input th:field="*{id}">-->
<!--            <input th:field="*{name}">-->
<!--            <input th:field="*{firstName}">-->
<!--            <input th:field="*{lastName}">-->
<!--            <input th:field="*{hospital}">-->
<!--          </div>-->
<!--          <br>-->
<!--          <label for="newPass"> Wprowadź nowe hasło:</label>-->
<!--          <input id="newPass" name="newPass" th:field="*{password_tmp}" class="form-control">-->
<!--          <br>-->
<!--        </div>-->
<!--        <div class="panel-footer">-->
<!--          &lt;!&ndash;        <div class="pull-right">&ndash;&gt;-->
<!--          <button type="button" class="btn btn-danger" formnovalidate onclick="history_back()"><i class="fas fa-close"></i> Anuluj </button>-->
<!--          <button type="submit" class="btn btn-primary pull-right"><i class="fas fa-save"></i> Zapisz</button>-->
<!--          &lt;!&ndash;        </div>&ndash;&gt;-->
<!--        </div>-->
<!--      </div>-->
<!--      <input type="text" th:value="${id}" hidden>-->
<!--    </form>-->
<!--  </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->
<!--<script>-->
<!--  function history_back(){-->
<!--    window.history.back();-->
<!--  }-->
<!--</script>-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  &lt;!&ndash;    <title>Title</title>&ndash;&gt;-->
<!--</head>-->
<!--<body>-->
<!--<div class="card">-->
<!--  <form class="form" style="margin: auto" th:object="${user}" th:action="@{/wkrm/admin/updateUser}" method="post">-->
<!--    <div class="panel panel-default">-->
<!--      <div class="panel-body">-->
<!--        <input type="text" th:field="*{id}">-->
<!--        <div class="col-sm">-->
<!--          <label>Login</label>-->
<!--          <input type="text" class="form-control" th:field="*{userName}" required>-->

<!--        </div>-->
<!--        <div class="col-sm" hidden>-->
<!--          <label>Hasło</label>-->
<!--          <input type="text" class="form-control" th:field="*{password}" required>-->
<!--        </div>-->
<!--        <div class="col-sm">-->
<!--          <label>Imię</label>-->
<!--          <input type="text" class="form-control" th:field="*{firstName}" required>-->
<!--        </div>-->
<!--        <div class="col-sm">-->
<!--          <label>Nazwisko</label>-->
<!--          <input type="text" class="form-control" th:field="*{LastName}" required>-->
<!--        </div>-->
<!--        <div class="col-sm">-->
<!--          <label>Adres e-mail</label>-->
<!--          <input type="email" class="form-control" th:field="*{email}" required>-->
<!--        </div>-->
<!--        <p>-->
<!--          <label>Rola w aplikacji:<br>-->
<!--            <input style="padding-left: 10px; padding-right: 10px; margin-left: 10px; margin-right: 10px" type="checkbox" name="roles"-->
<!--                   th:each="role : ${allRoles}"-->
<!--                   th:text="${role.role}"-->
<!--                   th:value="${role.id}"-->
<!--                   th:field="*{roles}"-->
<!--            />-->
<!--            <br>-->
<!--          </label>-->
<!--        </p>-->
<!--      </div>-->
<!--      <div class="panel-footer">-->
<!--        <button type="button" class="btn btn-danger" formnovalidate onclick="location.href='/hospital/users/'"><i class="fas fa-close"></i> Anuluj </button>-->
<!--        <button type="submit" class="btn btn-primary pull-right"><i class="fas fa-save"></i> Aktualizuj</button>-->
<!--      </div>-->
<!--    </div>-->
<!--  </form>-->
<!--</div>-->

<!--</body>-->
<!--</html>-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--&lt;!&ndash;  <link rel="icon" type="image/x-icon" href="/images/icon.png">&ndash;&gt;-->

<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/bootstrap.min.css" th:href="@{/srb/css/bootstrap.min.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/bootstrap.css" th:href="@{/srb/css/bootstrap.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/datatables.bootstrap.min.css" th:href="@{/srb/css/datatables.bootstrap.min.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/datatables.css" th:href="@{/srb/css/datatables.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    fixed header and footer&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/fixedheader.dataTables.css" th:href="@{/srb/css/fixedheader.dataTables.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/uikit.min.css" th:href="@{/srb/css/uikit.min.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/uikit.css" th:href="@{/srb/css/uikit.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/select2.css" th:href="@{/srb/css/select2.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/bootstrap-datepicker.min.css" th:href="@{/srb/css/bootstrap-datepicker.min.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/webjars/font-awesome/6.5.1/css/all.css" th:href="@{/webjars/font-awesome/6.5.1/css/all.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    	<link rel="stylesheet" href="/css/font-awesome.css" th:href="@{/css/font-awesome.css}">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    	<link rel="stylesheet" href="/css/font-awesome.min.css" th:href="@{/css/font-awesome.min.css}">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  <link rel="stylesheet" href="/srb/css/toastr.min.css" th:href="@{/srb/css/toastr.min.css}">&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.3/css/dataTables.dataTables.css">&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/uikit.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/uikit-icons.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/jquery-3.6.0.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/datatables.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/dataTables.bootstrap.min.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    fixed header and footer&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  <script src="/srb/js/dataTables.fixedHeader.js" th:src="@{/srb/js/dataTables.fixedHeader.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    <script th:src="@{/srb/js/dataTables.fixedHeader.js}"></script>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    <script th:src="@{/srb/js/fixedHeader.dataTables.js}"></script>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    <script th:src="@{/js/datatables.sum().js}"></script>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    <script th:src="@{/srb/js/dataTables.bootstrap.min.js}"></script>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/bootstrap.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/select2.min.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/typehead.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/i18n/pl.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/bootstrap-datepicker.min.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/i18n/bootstrap-datepicker.pl.min.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/moment.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  &lt;!&ndash;    	<script th:src="@{/js/fontawesome.js}"></script>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/toastr.min.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script th:src="@{/srb/js/sweetalert.min.js}"></script>&ndash;&gt;-->
<!--&lt;!&ndash;  <script src="/webjars/font-awesome/6.5.1/js/fontawesome.min.js" th:src="@{/webjars/font-awesome/6.5.1/js/fontawesome.min.js}"></script>&ndash;&gt;-->
<!--  &lt;!&ndash;    <title>Title</title>&ndash;&gt;-->
<!--</head>-->
<!--<body>-->
<!--<div class="card">-->
<!--  <form class="form" style="margin: auto" th:object="${user}" th:action="@{/wkrm/admin/saveNewUser}" method="post">-->
<!--    <div class="panel panel-default">-->
<!--      <div class="panel-body">-->
<!--        <div class="col-sm">-->
<!--          <label>Login</label>-->
<!--          <input type="text" class="form-control" th:field="*{userName}">-->

<!--        </div>-->
<!--        <div class="col-sm">-->
<!--          <label>Hasło</label>-->
<!--          <input type="text" class="form-control" th:field="*{password}">-->
<!--        </div>-->
<!--        <div class="col-sm">-->
<!--          <label>Imię</label>-->
<!--          <input type="text" class="form-control" th:field="*{firstName}">-->
<!--        </div>-->
<!--        <div class="col-sm">-->
<!--          <label>Nazwisko</label>-->
<!--          <input type="text" class="form-control" th:field="*{LastName}">-->
<!--        </div>-->
<!--        <div class="col-sm">-->
<!--          <label>Adres e-mail</label>-->
<!--          <input type="text" class="form-control" th:field="*{email}">-->
<!--        </div>-->
<!--        <div class="col-sm">-->
<!--          <label> Szpital/Oddział</label>-->
<!--          <select class="form-control" id="hospital" style="width: 100%" required></select>-->
<!--        </div>-->
<!--        <p>-->
<!--          <label>Rola w aplikacji:<br>-->
<!--            <input style="padding-left: 10px; padding-right: 10px; margin-left: 10px; margin-right: 10px" type="checkbox" name="roles"-->
<!--                   th:each="role : ${allRoles}"-->
<!--                   th:text="${role.role}"-->
<!--                   th:value="${role.id}"-->
<!--                   th:field="*{roles}"-->
<!--            />-->
<!--            <br>-->
<!--          </label>-->
<!--        </p>-->
<!--        <input type="hospitalId" th:field="*{hospital}">-->
<!--      </div>-->
<!--      <div class="panel-footer">-->
<!--        <button type="button" class="btn btn-danger" formnovalidate onclick="history_back()"><i class="fas fa-close"></i> Anuluj </button>-->
<!--        <button type="submit" class="btn btn-primary pull-right"><i class="fas fa-save"></i> Zapisz</button>-->
<!--      </div>-->
<!--    </div>-->
<!--  </form>-->
<!--</div>-->

<!--</body>-->
<!--</html>-->
<!--<script>-->
<!--  function history_back(){-->
<!--    window.history.back();-->
<!--  }-->
<!--  $(function (){-->
<!--    $('#hospital').select2({-->
<!--      language: "pl",-->
<!--      placeholder: "Wybierz...",-->
<!--      theme: 'bootstrap4',-->
<!--      selectionCssClass: 'form-control',-->
<!--      ajax: {-->
<!--        url: "/api/hospital/v1",-->
<!--        dataType: 'json',-->
<!--        type: 'GET',-->
<!--        data: function (params){-->
<!--          console.log(params)-->
<!--          return {-->
<!--            term: params.term,-->
<!--            page: params.page || 1,-->
<!--          }-->
<!--        },-->
<!--        processResults(data) {-->
<!--          console.log(data)-->
<!--          return {-->
<!--            results: $.map(data, function (item){-->
<!--              return {-->
<!--                text: item.name,-->
<!--                id: item.hospitalId,-->
<!--              }-->
<!--            })-->
<!--          }-->
<!--        }-->
<!--      }-->
<!--    })-->
<!--  });-->
<!--  $('#hospital').on('change', function (){-->
<!--    $('#hospitalId').val($(this).val());-->
<!--  });-->
<!--</script>-->
<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sd="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.w3.org/1999/xhtml"
      th:replace="~{/wkrm/fragments/layout2::layout(~{::.container-fluid})}">
<head>
  <meta charset="UTF-8">
</head>
<body>
<div class="container-fluid">
  <h3 style="text-align: center;"> Zmiana hasła dla użytkownika</h3>
  <div class="card">
    <form class="form" style="margin: auto" th:object="${user}" th:action="@{/wkrm/admin/changePassword}" method="post">
      <div class="panel panel-default">
        <div class="panel-body">
          <div class="col-sm" hidden>
            <label>Login</label>
            <input type="text" class="form-control" th:field="*{userName}" required >
            <span th:if="${error_exist}" th:text="${error_exist}" style="color: red; font-weight: bold"> Błąd</span>
          </div>
                    <div class="col-sm">
                      <label>Nowe hasło</label>
                      <input type="text" class="form-control" th:field="*{password_tmp}" id="pass1" required>
                    </div>
          <div class="col-sm" hidden>
            <label>Imię</label>
            <input type="text" class="form-control" th:field="*{firstName}" required>
          </div>
          <div class="col-sm" hidden>
            <label>Nazwisko</label>
            <input type="text" class="form-control" th:field="*{LastName}" required>
          </div>
          <div class="col-sm" hidden>
            <label>Adres e-mail</label>
            <input type="email" class="form-control" th:field="*{email}" required>
          </div>
          <div class="col-sm" hidden>
            <label> Obecnie przydział do Szpitala/Oddziału</label>
            <input class="form-control" style="font-weight: bold" readonly th:field="*{hospital.name}">
          </div>
          <div class="col-sm" hidden>
            <label> Szpital/Oddział <small style="color: red"> Zmień wtedy, gdy chcesz zmienić użytkownikowi przydział. W innym przypadku pozostaw puste</small></label>
            <select class="form-control" id="hospital" style="width: 100%"></select>
            <!--            <input type="hospitalId1">-->
          </div>
          <div class="col-sm" hidden>
            <label> Obecna rola w aplikacji</label>
            <input class="form-control" style="font-weight: bold" readonly th:value="${roleTmp}">
          </div>
          <p hidden>
            <label>Rola w aplikacji: <small style="color: red"> Zmień wtedy, jeśli chcesz zmienić rolę w aplikacji</small> <br>
              <input style="padding-left: 10px; padding-right: 10px; margin-left: 10px; margin-right: 10px" type="radio" name="roles"
                     th:each="role : ${allRoles}"
                     th:text="${role.role}"
                     th:value="${role.id}"
                     th:field="*{roles}"
              />
              <br>
            </label>
          </p>
          <input id="hospitalId" th:field="*{hospital.hospitalId}" hidden>
<!--          <input type="text" id="tmpPass" th:field="*{password_tmp}" hidden>-->
          <input th:field="*{id}" hidden>
          <input type="text" th:field="*{password}" hidden>
          <input type="text" th:field="*{name}" hidden>
          <input type="text" th:field="*{active}" hidden>
          <!--          <input th:field="*{passwordChangedTime}" hidden>-->
        </div>
        <div class="panel-footer">
          <button type="button" class="btn btn-danger" formnovalidate onclick="history_back()"><i class="fas fa-close"></i> Anuluj </button>
          <button type="submit" class="btn btn-primary pull-right"><i class="fas fa-save"></i> Zapisz</button>
        </div>
      </div>
    </form>
  </div>
  <!--tutaj tresć-->
</div>
</body>
</html>
<script>
  $(function (){
    let $src = $('#pass1'), $dst = $('#tmpPass');
    $src.on('input', function (){
      $dst.val($src.val());
    });
  });
  function history_back(){
    window.history.back();
  }
  $(function (){
    $('#hospital').select2({
      language: "pl",
      placeholder: "Wybierz...",
      theme: 'bootstrap4',
      selectionCssClass: 'form-control',
      ajax: {
        url: "/api/hospital/v1",
        dataType: 'json',
        type: 'GET',
        data: function (params){
          console.log(params)
          return {
            term: params.term,
            page: params.page || 1,
          }
        },
        processResults(data) {
          console.log(data)
          return {
            results: $.map(data, function (item){
              return {
                text: item.name,
                id: item.hospitalId,
              }
            })
          }
        }
      }
    })
    // $('#hospital').on('change', function (){
    //   $('#hospitalId').val($(this).val());
    // });
  });
  $('#hospital').on('change', function (){
    $('#hospitalId').val($(this).val());
    $('#hospitalId1').val($(this).val());
    console.log("HospitalId: " + $('#hospitalId').val($(this).val()));
  });
</script>